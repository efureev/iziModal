/*
 * izimodal v1.3.5
 * 
 */

(function(a){"use strict";function b(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}var c=a(window),d=a(document),e="iziModal",f={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened",DESTROYED:"destroyed"},g=b(),h=!!/Mobi/.test(navigator.userAgent),i=0,j=function(a,b){this.init(a,b)};j.prototype={constructor:j,init:function(b,c){var d=this;this.$element=a(b),this.id=this.$element.attr("id"),this.content=this.$element.html(),this.state=f.CLOSED,this.options=c,this.width=0,this.timer=null,this.timerTimeout=null,this.progressBar=null,this.isPaused=!1,this.isFullscreen=!1,this.headerHeight=0,this.modalHeight=0,this.$overlay=a('<div class="'+e+'-overlay" style="background-color:'+c.overlayColor+'"></div>'),this.$navigate=a('<div class="'+e+'-navigate"><div class="'+e+'-navigate-caption">Use</div><button class="'+e+'-navigate-prev"></button><button class="'+e+'-navigate-next"></button></div>'),this.group={name:this.$element.attr("data-"+e+"-group"),index:null,ids:[]},this.$element.attr("aria-hidden","true"),void 0===this.group.name&&""!==c.group&&(this.group.name=c.group,this.$element.attr("data-"+e+"-group",c.group)),void 0!==this.$element.attr("data-"+e+"-title")&&(c.title=this.$element.attr("data-"+e+"-title")),void 0!==this.$element.attr("data-"+e+"-subtitle")&&(c.subtitle=this.$element.attr("data-"+e+"-subtitle")),void 0!==this.$element.attr("data-"+e+"-icon")&&(c.icon=this.$element.attr("data-"+e+"-icon")),void 0!==this.$element.attr("data-"+e+"-iconText")&&(c.iconText=this.$element.attr("data-"+e+"-iconText")),this.options.loop===!0&&this.$element.attr("data-"+e+"-loop",!0),this.$header=a('<div class="'+e+'-header"><h2 class="'+e+'-header-title">'+c.title+'</h2><p class="'+e+'-header-subtitle">'+c.subtitle+'</p><a href="javascript:void(0)" class="'+e+"-button "+e+'-button-close" data-'+e+"-close></a></div>"),c.fullscreen===!0&&(this.$header.append('<a href="javascript:void(0)" class="'+e+"-button "+e+'-button-fullscreen" data-'+e+"-fullscreen></a>"),this.$header.css("padding-right","76px")),c.timeoutProgressbar!==!0||isNaN(parseInt(c.timeout))||c.timeout===!1||0===c.timeout||this.$header.prepend('<div class="'+e+'-progressbar"><div style="background-color:'+c.timeoutProgressbarColor+'"></div></div>'),c.iframe===!0?(this.$element.html('<div class="'+e+'-wrap"><div class="'+e+'-content"><iframe class="'+e+'-iframe"></iframe>'+this.content+"</div></div>"),null!==c.iframeHeight&&this.$element.find("."+e+"-iframe").css("height",c.iframeHeight)):this.$element.html('<div class="'+e+'-wrap"><div class="'+e+'-content">'+this.content+"</div></div>"),""===c.subtitle&&this.$header.addClass(e+"-noSubtitle"),""===c.title&&""===c.subtitle||(null!==c.headerColor&&(this.$element.css("border-bottom","3px solid "+c.headerColor),this.$header.css("background",this.options.headerColor)),null===c.icon&&null===c.iconText||(this.$header.prepend('<i class="'+e+'-header-icon"></i>'),null!==c.icon&&this.$header.find("."+e+"-header-icon").addClass(c.icon).css("color",c.iconColor),null!==c.iconText&&this.$header.find("."+e+"-header-icon").html(c.iconText)),this.$element.css("overflow","hidden").prepend(this.$header)),null===c.zindex||isNaN(parseInt(c.zindex))||(this.$element.css("z-index",c.zindex),this.$navigate.css("z-index",c.zindex-1),this.$overlay.css("z-index",c.zindex-2)),""!==c.radius&&this.$element.css("border-radius",c.radius),""!==c.padding&&this.$element.find("."+e+"-content").css("padding",c.padding),""!==c.theme&&("light"===c.theme?this.$element.addClass(e+"-light"):this.$element.addClass(c.theme)),c.openFullscreen===!0&&(this.isFullscreen=!0,this.$element.addClass("isFullscreen")),"top"!==c.attached&&"top"!=this.$element.attr("data-"+e+"-attached")||this.$element.addClass("isAttachedTop"),"bottom"!==c.attached&&"bottom"!=this.$element.attr("data-"+e+"-attached")||this.$element.addClass("isAttachedBottom"),function(){a(document.body).find("style[rel="+d.id+"]").remove();var b=/%|px|em|cm/,f=String(c.width).split(b),g=String(c.width),h="px";f=String(f).split(",")[0],isNaN(c.width)&&(h=String(c.width).indexOf("%")!=-1?"%":g.slice("-2")),d.$element.css({"margin-left":-(f/2)+h,"max-width":parseInt(f)+h}),d.width=d.$element.outerWidth(),d.mediaQueries='<style rel="'+d.id+'">@media handheld, only screen and (max-width: '+d.width+"px) { #"+d.id+"{ width: 100% !important; max-width: 100% !important; margin-left: 0 !important; left: 0 !important; border-radius:0!important} #"+d.id+" ."+e+"-header{border-radius:0!important} }</style>",a(document.body).append(d.mediaQueries),d.$element.css("margin-top",parseInt(-(d.$element.innerHeight()/2))+"px")}()},setGroup:function(b){var c=this,d=this.group.name||b;if(this.group.ids=[],void 0!==b&&b!==this.group.name&&(d=b,this.group.name=d,this.$element.attr("data-"+e+"-group",d)),void 0!==d&&""!==d){var f=0;a.each(a("."+e+"[data-"+e+"-group="+d+"]"),function(b,d){c.group.ids.push(a(this).attr("id")),c.id==a(this).attr("id")&&(c.group.index=f),f++})}},toggle:function(){this.state==f.OPENED&&this.close(),this.state==f.CLOSED&&this.open()},open:function(b){function c(){j.state=f.OPENED,j.$element.trigger(f.OPENED),j.options.onOpened&&"function"==typeof j.options.onOpened&&j.options.onOpened(j)}function i(){j.$element.off("click","[data-"+e+"-close]").on("click","[data-"+e+"-close]",function(b){b.preventDefault();var c=a(b.currentTarget).attr("data-"+e+"-transitionOut");void 0!==c?j.close({transition:c}):j.close()}),j.$element.off("click","[data-"+e+"-fullscreen]").on("click","[data-"+e+"-fullscreen]",function(a){a.preventDefault(),j.isFullscreen===!0?(j.isFullscreen=!1,j.$element.removeClass("isFullscreen")):(j.isFullscreen=!0,j.$element.addClass("isFullscreen")),j.options.onFullscreen&&"function"==typeof j.options.onFullscreen&&j.options.onFullscreen(j),j.$element.trigger("fullscreen",j)}),j.$navigate.off("click","."+e+"-navigate-next").on("click","."+e+"-navigate-next",function(a){j.next(a)}),j.$element.off("click","[data-"+e+"-next]").on("click","[data-"+e+"-next]",function(a){j.next(a)}),j.$navigate.off("click","."+e+"-navigate-prev").on("click","."+e+"-navigate-prev",function(a){j.prev(a)}),j.$element.off("click","[data-"+e+"-prev]").on("click","[data-"+e+"-prev]",function(a){j.prev(a)})}var j=this;if(this.state==f.CLOSED){if(i(),this.setGroup(),this.state=f.OPENING,this.$element.trigger(f.OPENING),this.$element.attr("aria-hidden","false"),this.options.iframe===!0){this.$element.find("."+e+"-content").addClass(e+"-content-loader"),this.$element.find("."+e+"-iframe").on("load",function(){a(this).parent().removeClass(e+"-content-loader")});var k=null;try{k=""!==a(b.currentTarget).attr("href")?a(b.currentTarget).attr("href"):null}catch(a){throw new Error(a)}null===this.options.iframeURL||null!==k&&void 0!==k||(k=this.options.iframeURL),null!==k&&void 0!==k||alert("Failed to find iframe URL."),this.$element.find("."+e+"-iframe").attr("src",k)}(this.options.bodyOverflow||h)&&a("html").addClass(e+"-isOverflow"),this.options.onOpening&&"function"==typeof this.options.onOpening&&this.options.onOpening(this),function(){if(j.group.ids.length>1){j.$navigate.appendTo("body"),j.$navigate.addClass(j.options.transitionInOverlay),j.options.navigateCaption===!0&&j.$navigate.find("."+e+"-navigate-caption").show(),j.options.navigateArrows===!0||"closeToModal"===j.options.navigateArrows?(j.$navigate.find("."+e+"-navigate-prev").css("margin-left",-(j.width/2+84)),j.$navigate.find("."+e+"-navigate-next").css("margin-right",-(j.width/2+84))):(j.$navigate.find("."+e+"-navigate-prev").css("left",0),j.$navigate.find("."+e+"-navigate-next").css("right",0));var d;0===j.group.index&&(d=a("."+e+"[data-"+e+'-group="'+j.group.name+'"][data-'+e+"-loop]").length,0===d&&j.options.loop===!1&&j.$navigate.find("."+e+"-navigate-prev").hide()),j.group.index+1===j.group.ids.length&&(d=a("."+e+"[data-"+e+'-group="'+j.group.name+'"][data-'+e+"-loop]").length,0===d&&j.options.loop===!1&&j.$navigate.find("."+e+"-navigate-next").hide())}j.options.overlay===!0&&j.$overlay.appendTo("body"),j.options.transitionInOverlay&&j.$overlay.addClass(j.options.transitionInOverlay);var f=j.options.transitionIn;"object"==typeof b&&(void 0===b.transition&&void 0===b.transitionIn||(f=b.transition||b.transitionIn)),""!==f?(j.$element.addClass("transitionIn "+f).show(),j.$element.find("."+e+"-wrap").one(g,function(){j.$element.removeClass(f+" transitionIn"),j.$overlay.removeClass(j.options.transitionInOverlay),j.$navigate.removeClass(j.options.transitionInOverlay),c()})):(j.$element.show(),c()),j.options.pauseOnHover!==!0||j.options.pauseOnHover!==!0||j.options.timeout===!1||isNaN(parseInt(j.options.timeout))||j.options.timeout===!1||0===j.options.timeout||(j.$element.off("mouseenter").on("mouseenter",function(a){a.preventDefault(),j.isPaused=!0}),j.$element.off("mouseleave").on("mouseleave",function(a){a.preventDefault(),j.isPaused=!1}))}(),this.options.timeout===!1||isNaN(parseInt(this.options.timeout))||this.options.timeout===!1||0===this.options.timeout||(this.options.timeoutProgressbar===!0?(this.progressBar={hideEta:null,maxHideTime:null,currentTime:(new Date).getTime(),el:this.$element.find("."+e+"-progressbar > div"),updateProgress:function(){if(!j.isPaused){j.progressBar.currentTime=j.progressBar.currentTime+10;var a=(j.progressBar.hideEta-j.progressBar.currentTime)/j.progressBar.maxHideTime*100;j.progressBar.el.width(a+"%"),a<0&&j.close()}}},this.options.timeout>0&&(this.progressBar.maxHideTime=parseFloat(this.options.timeout),this.progressBar.hideEta=(new Date).getTime()+this.progressBar.maxHideTime,this.timerTimeout=setInterval(this.progressBar.updateProgress,10))):this.timerTimeout=setTimeout(function(){j.close()},j.options.timeout)),this.options.overlayClose&&!this.$element.hasClass(this.options.transitionOut)&&this.$overlay.click(function(){j.close()}),this.options.focusInput&&this.$element.find(":input:not(button):enabled:visible:first").focus(),function a(){j.recalculateLayout(),j.timer=setTimeout(a,300)}(),function(){if(j.options.history){var a=document.title;document.title=a+" - "+j.options.title,document.location.hash=j.id,document.title=a}}(),d.keydown(function(a){j.options.closeOnEscape&&27===a.keyCode&&j.close()})}},close:function(b){function c(){i.options.iframe===!0&&i.$element.find("."+e+"-iframe").attr("src",""),(i.options.bodyOverflow||h)&&a("html").removeClass(e+"-isOverflow"),a("html").removeClass(e+"-isAttached"),i.state=f.CLOSED,i.$element.trigger(f.CLOSED),i.options.onClosed&&"function"==typeof i.options.onClosed&&i.options.onClosed(i),i.options.restoreDefaultContent===!0&&i.$element.find("."+e+"-content").html(i.content)}var i=this;if(this.state==f.OPENED||this.state==f.OPENING){d.off("keydown"),this.state=f.CLOSING,this.$element.trigger(f.CLOSING),this.$element.attr("aria-hidden","true"),clearTimeout(this.timer),clearTimeout(this.timerTimeout),i.options.onClosing&&"function"==typeof i.options.onClosing&&i.options.onClosing(this);var j=this.options.transitionOut;"object"==typeof b&&(void 0===b.transition&&void 0===b.transitionOut||(j=b.transition||b.transitionOut)),""!==j?(this.$element.attr("class",e+" transitionOut "+j+" "+this.options.theme+" "+String(this.isFullscreen===!0?"isFullscreen":"")+" "+String("top"===this.options.attached?"isAttachedTop":"")+" "+String("bottom"===this.options.attached?"isAttachedBottom":"")),this.$overlay.attr("class",e+"-overlay "+this.options.transitionOutOverlay),this.$navigate.attr("class",e+"-navigate "+this.options.transitionOutOverlay),this.$element.one(g,function(){i.$element.hasClass(j)&&i.$element.removeClass(j+" transitionOut").hide(),i.$overlay.removeClass(i.options.transitionOutOverlay).remove(),i.$navigate.removeClass(i.options.transitionOutOverlay).remove(),c()})):(this.$element.hide(),this.$overlay.remove(),this.$navigate.remove(),c())}},next:function(b){var c=this,d="fadeInRight",f="fadeOutLeft",g=a("."+e+":visible"),h={};h.out=this,void 0!==b&&"object"!=typeof b?(b.preventDefault(),g=a(b.currentTarget),d=g.attr("data-"+e+"-transitionIn"),f=g.attr("data-"+e+"-transitionOut")):void 0!==b&&(void 0!==b.transitionIn&&(d=b.transitionIn),void 0!==b.transitionOut&&(f=b.transitionOut)),this.close({transition:f}),setTimeout(function(){var b=a("."+e+"[data-"+e+'-group="'+c.group.name+'"][data-'+e+"-loop]").length;(b>0||c.options.loop===!0)&&c.group.index+1===c.group.ids.length?(a("#"+c.group.ids[0]).iziModal("open",{transition:d}),h.in=a("#"+c.group.ids[0]).data().iziModal):c.group.index+1<c.group.ids.length&&(a("#"+c.group.ids[c.group.index+1]).iziModal("open",{transition:d}),h.in=a("#"+c.group.ids[c.group.index+1]).data().iziModal)},200),a(document).trigger(e+"-group-change",h)},prev:function(b){var c=this,d="fadeInLeft",f="fadeOutRight",g=a("."+e+":visible"),h={};h.out=this,void 0!==b&&"object"!=typeof b?(b.preventDefault(),g=a(b.currentTarget),d=g.attr("data-"+e+"-transitionIn"),f=g.attr("data-"+e+"-transitionOut")):void 0!==b&&(void 0!==b.transitionIn&&(d=b.transitionIn),void 0!==b.transitionOut&&(f=b.transitionOut)),this.close({transition:f}),setTimeout(function(){var b=a("."+e+"[data-"+e+'-group="'+c.group.name+'"][data-'+e+"-loop]").length;(b>0||c.options.loop===!0)&&0===c.group.index?(a("#"+c.group.ids[c.group.ids.length-1]).iziModal("open",{transition:d}),h.in=a("#"+c.group.ids[c.group.ids.length-1]).data().iziModal):c.group.index>0&&(a("#"+c.group.ids[c.group.index-1]).iziModal("open",{transition:d}),h.in=a("#"+c.group.ids[c.group.index-1]).data().iziModal)},200),a(document).trigger(e+"-group-change",h)},destroy:function(){var b=a.Event("destroy");this.$element.trigger(b),d.off("keydown"),clearTimeout(this.timer),clearTimeout(this.timerTimeout),this.options.iframe===!0&&this.$element.find("."+e+"-iframe").remove(),this.$element.html(this.$element.find("."+e+"-content").html()),d.find("style[rel="+this.id+"]").remove(),this.$element.off("click","[data-"+e+"-close]"),this.$element.off("click","[data-"+e+"-fullscreen]"),this.$element.off("."+e).removeData(e).attr("style",""),this.$overlay.remove(),this.$navigate.remove(),this.$element.trigger(f.DESTROYED),this.$element=null},getState:function(){return this.state},getGroup:function(){return this.group},getContent:function(){return this.content},setTitle:function(a){null!==this.options.title&&(this.$header.find("."+e+"-header-title").html(a),this.options.title=a)},setSubtitle:function(a){null!==this.options.subtitle&&(this.$header.find("."+e+"-header-subtitle").html(a),this.options.subtitle=a)},setIcon:function(a){0===this.$header.find("."+e+"-header-icon").length&&this.$header.prepend('<i class="'+e+'-header-icon"></i>'),this.$header.find("."+e+"-header-icon").attr("class",e+"-header-icon "+a),this.options.icon=a},setIconText:function(a){this.$header.find("."+e+"-header-icon").html(a),this.options.iconText=a},setContent:function(a){this.$element.find("."+e+"-content").html(a),this.content=a},setAttached:function(a){this.options.attached=a,this.$element.removeClass("isAttachedTop isAttachedBottom"),"bottom"!==a&&"top"!==a||this.$element.addClass("isAttached"+a.charAt(0).toUpperCase()+a.slice(1))},setHeaderColor:function(a){this.$element.css("border-bottom","3px solid "+a),this.$header.css("background",a),this.options.headerColor=a},setZindex:function(a){isNaN(parseInt(this.options.zindex))||(this.options.zindex=a,this.$element.css("z-index",a),this.$navigate.css("z-index",a-1),this.$overlay.css("z-index",a-2))},setTransitionIn:function(a){this.options.transitionIn=param.transition},setTransitionOut:function(a){this.options.transitionOut=param.transition},startLoading:function(){this.$element.find("."+e+"-loader").length||this.$element.append('<div class="'+e+"-loader "+this.options.transitionInOverlay+'"></div>')},stopLoading:function(){var a=this;this.$element.find("."+e+"-loader").removeClass(this.options.transitionInOverlay).addClass(this.options.transitionOutOverlay),this.$element.find("."+e+"-loader").one(g,function(){a.$element.find("."+e+"-loader").removeClass(a.options.transitionOutOverlay).remove()})},recalculateLayout:function(){this.$element.find("."+e+"-header").length&&(this.headerHeight=parseInt(this.$element.find("."+e+"-header").innerHeight())+2,this.$element.css("overflow","hidden"));var b=c.height(),d=this.$element.outerHeight(),g=this.$element.find("."+e+"-content")[0].scrollHeight,h=parseInt(-((this.$element.innerHeight()+1)/2))+"px";if(d!==this.modalHeight&&(this.modalHeight=d,this.options.onResize&&"function"==typeof this.options.onResize&&this.options.onResize(this)),this.state==f.OPENED||this.state==f.OPENING)if(this.options.iframe===!0)b<this.options.iframeHeight+this.headerHeight||this.isFullscreen===!0?(a("html").addClass(e+"-isAttached"),this.$element.find("."+e+"-iframe").css({height:parseInt(b-this.headerHeight)+"px"})):(a("html").removeClass(e+"-isAttached"),this.$element.find("."+e+"-iframe").css({height:parseInt(this.options.iframeHeight)+"px"}));else{b>g+this.headerHeight&&this.isFullscreen!==!0&&(a("html").removeClass(e+"-isAttached"),this.$element.find("."+e+"-wrap").css({height:"auto"})),(g+this.headerHeight>b||this.$element.innerHeight()<g||this.isFullscreen===!0)&&(a("html").hasClass(e+"-isAttached")||a("html").addClass(e+"-isAttached"),this.$element.find("."+e+"-wrap").css({height:parseInt(b-this.headerHeight)+"px"}));var i=this.$element.find("."+e+"-wrap").scrollTop(),j=this.$element.find("."+e+"-content").innerHeight(),k=this.$element.find("."+e+"-wrap").innerHeight();k+i<j-50?this.$element.addClass("hasScroll"):this.$element.removeClass("hasScroll")}this.$element.css("margin-top")!=h&&"0px"!=this.$element.css("margin-top")&&this.$element.css("margin-top",h)}},c.off("hashchange load").on("hashchange load",function(b){var c=document.location.hash;if(0===i)if(""!==c){a.each(a("."+e),function(b,d){var e=a(d).iziModal("getState");"opened"!=e&&"opening"!=e||"#"+a(d).attr("id")!==c&&a(d).iziModal("close")});var d=a(c).data();"load"===b.type?d.iziModal.options.autoOpen!==!1&&a(c).iziModal("open"):setTimeout(function(){a(c).iziModal("open")},200)}else a.each(a("."+e),function(b,c){var d=a(c).iziModal("getState");"opened"!=d&&"opening"!=d||a(c).iziModal("close")});else i=0}),d.off("click","[data-"+e+"-open]").on("click","[data-"+e+"-open]",function(b){b.preventDefault();var c=a("."+e+":visible").attr("id"),d=a(b.currentTarget).attr("data-"+e+"-open"),f=a(b.currentTarget).attr("data-"+e+"-transitionIn"),g=a(b.currentTarget).attr("data-"+e+"-transitionOut");void 0!==g?a("#"+c).iziModal("close",{transition:g}):a("#"+c).iziModal("close"),setTimeout(function(){void 0!==f?a("#"+d).iziModal("open",{transition:f}):a("#"+d).iziModal("open")},200)}),d.off("keyup").on("keyup",function(b){var c=a("."+e+":visible").attr("id"),d=a("#"+c).iziModal("getGroup"),f=b||window.event,g=f.target||f.srcElement;void 0===c||void 0===d||f.ctrlKey||f.metaKey||f.altKey||"INPUT"===g.tagName.toUpperCase()||"TEXTAREA"==g.tagName.toUpperCase()||(37===f.keyCode?a("#"+c).iziModal("prev",f):39===f.keyCode&&a("#"+c).iziModal("next",f))}),a.fn[e]=function(b,c){for(var d=this,f=0;f<d.length;f++){var g=a(d[f]),h=g.data(e),k=a.extend({},a.fn[e].defaults,g.data(),"object"==typeof b&&b);if(h||b&&"object"!=typeof b){if("string"==typeof b&&"undefined"!=typeof h)return h[b].apply(h,[].concat(c))}else g.data(e,h=new j(g,k));k.autoOpen&&(isNaN(parseInt(k.autoOpen))?k.autoOpen===!0&&h.open():setTimeout(function(){h.open()},k.autoOpen),i++)}return this},a.fn[e].defaults={title:"",subtitle:"",headerColor:"#88A0B9",theme:"",attached:"",icon:null,iconText:null,iconColor:"",width:600,padding:0,radius:3,zindex:999,iframe:!1,iframeHeight:400,iframeURL:null,focusInput:!0,group:"",loop:!1,navigateCaption:!0,navigateArrows:!0,history:!0,restoreDefaultContent:!1,autoOpen:0,bodyOverflow:!1,fullscreen:!1,openFullscreen:!1,closeOnEscape:!0,overlay:!0,overlayClose:!0,overlayColor:"rgba(0, 0, 0, 0.4)",timeout:!1,timeoutProgressbar:!1,pauseOnHover:!1,timeoutProgressbarColor:"rgba(255,255,255,0.5)",transitionIn:"comingIn",transitionOut:"comingOut",transitionInOverlay:"fadeIn",transitionOutOverlay:"fadeOut",onFullscreen:function(){},onResize:function(){},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}},a.fn[e].Constructor=j}).call(this,window.jQuery);
//# sourceMappingURL=izimodal.min.js.map